n, m = list(map(int,input().split()))
edges = []
for _ in range(m):
	edges.append(list(map(int,input().split())))

top_ordering = list(map(int,input().split()))